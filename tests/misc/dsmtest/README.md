# _DSM Arg3 Type Validation Test

This folder contains a minimal ACPICA test for validating that `_DSM` accepts multiple object types for argument 4 (`Arg3` in ASL): Package, String, Buffer, and Integer.

## Files

- `dsmtest.asl` - Source ASL test table
- `dsmtest.aml` - Compiled AML
- `dsmtest.hex` - Hex dump generated by iASL

## Build

From repository root:

```bash
./generate/unix/bin/iasl -tc tests/misc/dsmtest/dsmtest.asl
```

## One-command Run

From repository root:

```bash
bash tests/misc/dsmtest/run.sh
```

## Run

Evaluate the test method in batch mode:

```bash
./generate/unix/bin/acpiexec -b "evaluate \_SB.DUT0.TDSM" tests/misc/dsmtest/dsmtest.aml
```

## Expected Output

`TDSM` returns a bitmask in `Local0`:

- `0x1`  Package case passed
- `0x2`  String case passed
- `0x4`  Buffer case passed
- `0x8`  Integer case passed

Expected success value:

- `0x0F` (all four bits set)

## Quick Decode

- `0x0E` -> Package failed
- `0x0D` -> String failed
- `0x0B` -> Buffer failed
- `0x07` -> Integer failed

## Notes

- The UUID used in this test may produce iASL remark `2184` (Unknown UUID string). This is informational and does not affect test behavior.
- Re-run iASL after editing `dsmtest.asl` to regenerate `dsmtest.aml`.
